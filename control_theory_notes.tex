\documentclass[12pt,a4paper]{article}
\usepackage{ctex}
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{mathtools}  % 扩展 amsmath，empheq 需要
\usepackage{empheq}     % 用于带框的方程
\usepackage{csquotes}   % 用于正确的引号（\textquotedblleft等）
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{tikz}
\usepackage{caption}
\usetikzlibrary{shapes, arrows.meta, positioning}
\usepackage{pgfplots}
\usepackage{circuitikz} % 用于绘制电路图
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{xcolor}
\definecolor{sagegreen}{RGB}{138,154,91}
\definecolor{darkersagegreen}{RGB}{108,124,61}  % 更深的sage green用于目录
\usepackage[colorlinks=true, linkcolor=darkersagegreen, urlcolor=sagegreen, citecolor=sagegreen, filecolor=sagegreen, bookmarks=true, bookmarksnumbered=true]{hyperref}
\usepackage{tcolorbox}
\tcbuselibrary{breakable,skins}  % 启用跨页断开和高级样式
\usepackage{adjustbox}
\usepackage{colortbl}
\usepackage{array}
\usepackage{multirow}
\usepackage{longtable}
\usepackage{booktabs}  % 专业三线表
\usepackage{listings}   % 用于 MATLAB 代码
\usepackage[pgf]{bodeplot}

\pgfplotsset{compat=1.18}
% allow dropping of unbounded coordinates in all plots
\pgfplotsset{unbounded coords=jump}

% 页面设置
\geometry{left=2.5cm,right=2.5cm,top=2.5cm,bottom=2.5cm,headheight=15pt}
\pagestyle{fancy}
\fancyhf{}
\rhead{\thepage}
\lhead{控制理论笔记}

% 标题设置
\title{\textbf{控制理论笔记}\\[0.5em]\large 经典控制理论与现代控制理论}
\author{学习笔记}
\date{\today}

% 定义一些常用命令
\newcommand{\laplace}{\mathcal{L}}
\newcommand{\fourier}{\mathcal{F}}
\newcommand{\jw}{\mathrm{j}\omega}

% MATLAB 代码样式定义
\lstdefinestyle{Matlab-editor}{
    language=Matlab,
    basicstyle=\small\ttfamily,
    keywordstyle=\color{blue},
    commentstyle=\color{green!60!black},
    stringstyle=\color{purple},
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    numbersep=8pt,
    backgroundcolor=\color{gray!5},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=single,
    rulecolor=\color{gray!30},
    tabsize=4,
    captionpos=b,
    breaklines=true,
    breakatwhitespace=false,
    escapeinside={\%*}{*)},
    morekeywords={matlab2tikz},
}

\begin{document}

\maketitle
\tableofcontents
\newpage

\part{经典控制理论}
\setcounter{section}{0}  % 重置章节编号

% ==================== 基础理论 ====================
\input{classical/01-general-concepts.tex}
\input{classical/02-classification.tex}

% ==================== 数学工具 ====================
\input{classical/03-laplace.tex}
\input{classical/04-transfer-function.tex}
\input{classical/05-diagrams.tex}
\input{classical/06-mason.tex}

% ==================== 时域分析方法 ====================
\input{classical/07-time-domain.tex}
\input{classical/08-first-order.tex}
\input{classical/09-second-order.tex}
\input{classical/10-stability.tex}
\input{classical/11-steady-state-error.tex}

% ==================== 根轨迹分析方法 ====================
\input{classical/12-root-locus.tex}
\input{classical/13-zero-deg-locus.tex}
\input{classical/14-param-locus.tex}

% ==================== 频率域分析方法 ====================
\input{classical/15-freq-concepts.tex}
\input{classical/16-nyquist.tex}
\input{classical/17-bode.tex}

% ==================== 控制器设计与校正 ====================
\input{classical/18-compensator-design.tex}

\part{现代控制理论}
% 章节编号连续，不重置

% ==================== 状态空间理论 ====================
\input{modern/01-state-space.tex}
\input{modern/02-transfer-function.tex}
\input{modern/03-linear-transformation.tex}
\input{modern/04-solving-state-space.tex}

% ==================== 系统性能分析 ====================
\input{modern/05-controllability-observability.tex}
\input{modern/06-standard-forms.tex}
\input{modern/07-structural-decomposition.tex}
\input{modern/08-jordan-form.tex}

% ==================== 系统设计与稳定性 ====================
\input{modern/09-lyapunov-stability.tex}
\input{modern/10-pole-placement.tex}
\input{modern/11-state-observer.tex}

\part{高级主题}
% 章节编号连续，不重置

% ==================== 非线性与离散系统 ====================
\input{modern/12-nonlinear-systems.tex}
\input{modern/13-discrete-systems.tex}

\end{document}
